// Spawns mobs

034-1.gat,0,0,0|script|SpawnManager034_1|-1,
{
    end; // just to be secure

OnInit:
    set $@034_1_SANTASLIME_MONSTER_MAX_NUMBER,5;
    set $@034_1_SANTASLIME_MOMSTER_ID,1015;
    set $@034_1_SANTASLIME_MONSTER_SPAWN_X1,13;
    set $@034_1_SANTASLIME_MONSTER_SPAWN_Y1,22;
    set $@034_1_SANTASLIME_MONSTER_SPAWN_X2,129;
    set $@034_1_SANTASLIME_MONSTER_SPAWN_Y2,103;
    set $@034_1_SANTASLIME_month,gettime(6);
    set $@034_1_SANTASLIME_monster_number,0;
    if (debug >= 2) end;
    initnpctimer;
    if ($@034_1_SANTASLIME_month == 12 || $@034_1_SANTASLIME_month == 1 || $@034_1_SANTASLIME_month == 2) goto L_Init_Spawn;
    end;

L_Init_Spawn:
    areamonster "034-1.gat", $@034_1_SANTASLIME_MONSTER_SPAWN_X1, $@034_1_SANTASLIME_MONSTER_SPAWN_Y1, $@034_1_SANTASLIME_MONSTER_SPAWN_X2, $@034_1_SANTASLIME_MONSTER_SPAWN_Y2, "Santa Slime", $@034_1_SANTASLIME_MOMSTER_ID, $@034_1_SANTASLIME_MONSTER_MAX_NUMBER, "SpawnManager::OnMonsterDeath";
    set $@monster_number,$@034_1_SANTASLIME_MONSTER_MAX_NUMBER;
    end;

L_Spawn:
    areamonster "034-1.gat", $@034_1_SANTASLIME_MONSTER_SPAWN_X1, $@034_1_SANTASLIME_MONSTER_SPAWN_Y1, $@034_1_SANTASLIME_MONSTER_SPAWN_X2, $@034_1_SANTASLIME_MONSTER_SPAWN_Y2, "Santa Slime", $@034_1_SANTASLIME_MOMSTER_ID, 1, "SpawnManager::OnMonsterDeath";
    set $@034_1_SANTASLIME_monster_number,$@034_1_SANTASLIME_monster_number+1;
    end;

OnTimer20000:
    initnpctimer;
    set $@034_1_SANTASLIME_month,gettime(6);
    if (($@034_1_SANTASLIME_month == 12 || $@034_1_SANTASLIME_month == 1 || $@034_1_SANTASLIME_month == 2) && $@034_1_SANTASLIME_monster_number < $@034_1_SANTASLIME_MONSTER_MAX_NUMBER) goto L_Spawn;
    end;

OnMonsterDeath:
    set $@034_1_SANTASLIME_monster_number,$@034_1_SANTASLIME_monster_number-1;
    end;
}
